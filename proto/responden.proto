syntax = "proto3";

package tracer_study_grpc;
option go_package = "./;pb";

import "google/protobuf/timestamp.proto";

message Responden {
    uint32 id = 1;
    string thn_ak = 2;
    uint32 semester = 3;
    string type = 4;
    string status_update = 5;
    string jlrmasuk = 6;
    string thnmasuk = 7;
    string lamastd = 8;
    string kodefak = 9;
    string namafak = 10;
    string nim = 11;
    string nama = 12;
    string kodeprodi = 13;
    string kodeprodi2 = 14;
    string namaprodi = 15;
    string namaprodi2 = 16;
    string kodedikti = 17;
    string jenjang = 18;
    string jk = 19;
    string email = 20;
    string hp = 21;
    string ipk = 22;
    string tgl_sidang = 23;
    string thn_sidang = 24;
    string tgl_wisuda = 25;
    string nik = 26;
    string npwp = 27;
    string created_by = 28;
    string updated_by = 29;
    google.protobuf.Timestamp created_at = 30;
    google.protobuf.Timestamp updated_at = 31;
    google.protobuf.Timestamp deleted_at = 32;
}

message EmptyRespondenRequest {}

message GetAllRespondenResponse {
    uint32 code = 1;
    string message = 2;
    repeated Responden data = 3;
}

message GetRespondenByNimRequest {
    string nim = 1;
}

message GetRespondenByNimResponse {
    uint32 code = 1;
    string message = 2;
    Responden data = 3;
}

message RespondenUpdate {
    string ipk = 1;
    string kodedikti = 2;
    string jenjang = 3;
    string namaprodi = 4;
    string namaprodi2 = 5;
    string kodeprodi = 6;
    string kodeprodi2 = 7;
    string kodefak = 8;
    string namafak = 9;
    string jlrmasuk = 10;
    string thnmasuk = 11;
    string lamastd = 12;
}

message UpdateRespondenFromSiakRequest {
    string nim = 1;
}

message UpdateRespondenResponse {
    uint32 code = 1;
    string message = 2;
    Responden data = 3;
}

message CreateRespondenRequest {
    string nim = 1;
    string semester = 2;
    string type = 3;
    string nama = 4;
    string kodeprodi = 5;
    string jk = 6;
    string tgl_wisuda = 7;
    string tgl_sidang = 8;
    string thn_sidang = 9;
}

message CreateRespondenResponse {
    uint32 code = 1;
    string message = 2;
    Responden data = 3;
}

service RespondenService {
    rpc GetAllResponden(EmptyRespondenRequest) returns (GetAllRespondenResponse) {};
    rpc GetRespondenByNim(GetRespondenByNimRequest) returns (GetRespondenByNimResponse) {};
    rpc UpdateRespondenFromSiak(UpdateRespondenFromSiakRequest) returns (UpdateRespondenResponse) {};
    rpc CreateResponden(CreateRespondenRequest) returns (CreateRespondenResponse) {};
    rpc UpdateResponden(Responden) returns (UpdateRespondenResponse) {};
}